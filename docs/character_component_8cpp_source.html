<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Gameplay Programming: Engine/gpp/src/gpp/gameComponents/characterComponent.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gameplay Programming
   </div>
   <div id="projectbrief">Engine Usage Guide and API Documentation for the lecture 113522a &quot;Gameplay Programming&quot;, Stuttgart Media University.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_653b17d4abff251a2fc9bd3bbceebfb1.html">Engine</a></li><li class="navelem"><a class="el" href="dir_c7df26045c3ab1121dae7b82117b1855.html">gpp</a></li><li class="navelem"><a class="el" href="dir_f05ea7f4bdc4a85c96cb3602f807a62e.html">src</a></li><li class="navelem"><a class="el" href="dir_d24545de2b2256a2e8ef8a1fd21d0b92.html">gpp</a></li><li class="navelem"><a class="el" href="dir_14d5df590ac358a827326884a877296c.html">gameComponents</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">characterComponent.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;stdafx.h&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;gpp/gameComponents/characterComponent.h&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;gep/globalManager.h&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;gep/interfaces/physics.h&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;gep/interfaces/physics/characterController.h&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;gep/interfaces/physics/factory.h&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;gep/interfaces/inputHandler.h&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;gep/interfaces/logging.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;gep/interfaces/renderer.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;gpp/gameComponents/physicsComponent.h&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;gpp::CharacterComponent::CharacterComponent():</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    PhysicsComponent(),</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    m_pCharacterRigidBody(nullptr)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;gpp::CharacterComponent::~CharacterComponent()</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keywordtype">void</span> gpp::CharacterComponent::initalize()</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    PhysicsComponent::initalize();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keywordtype">void</span> gpp::CharacterComponent::destroy()</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    PhysicsComponent::destroy();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keywordtype">void</span> gpp::CharacterComponent::update( <span class="keywordtype">float</span> elapsedMS )</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    PhysicsComponent::update(elapsedMS);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keyword">auto</span> deltaSeconds = g_globalManager.getUpdateFramework()-&gt;calcElapsedTimeAverage(60);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="structgep_1_1_i_world_1_1_scoped_lock.html">gep::IWorld::ScopedLock</a> raii(m_pWorld.get());</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">auto</span>* pInputHandler = g_globalManager.getInputHandler();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">auto</span>* pLogging = g_globalManager.getLogging();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keyword">auto</span>&amp; debugRenderer = g_globalManager.getRenderer()-&gt;getDebugRenderer();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="structgep_1_1_character_input.html">gep::CharacterInput</a> input;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="structgep_1_1_character_output.html">gep::CharacterOutput</a> output;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    input.<a class="code" href="structgep_1_1_character_input.html#a5d4a66a477e0f6e9c9a501f04cb6ffdc">deltaTime</a> = deltaSeconds;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    input.<a class="code" href="structgep_1_1_character_input.html#ad8d3e5e3fee873db42b9a9d9ea8bd6ee">velocity</a> = m_pCharacterRigidBody-&gt;getRigidBody()-&gt;getLinearVelocity();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    input.<a class="code" href="structgep_1_1_character_input.html#a0319f33ee23973b5567e4a5cfdd238b0">position</a> = m_pCharacterRigidBody-&gt;getRigidBody()-&gt;getPosition();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (pInputHandler-&gt;isPressed(<a class="code" href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067aa5140765eb8d4b69d3464e7dcf36c484">gep::Key::Up</a>))</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        pLogging-&gt;logMessage(<span class="stringliteral">&quot;up&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        input.<a class="code" href="structgep_1_1_character_input.html#a8e8fd13e61df6e66a364bca07f20b5e0">inputUD</a> = -1.0f;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (pInputHandler-&gt;isPressed(<a class="code" href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067a768146893504e575688f1c0aab22c947">gep::Key::Down</a>))</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        pLogging-&gt;logMessage(<span class="stringliteral">&quot;down&quot;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        input.<a class="code" href="structgep_1_1_character_input.html#a8e8fd13e61df6e66a364bca07f20b5e0">inputUD</a> = 1.0f;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">if</span> (pInputHandler-&gt;isPressed(<a class="code" href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067a31e02d7d0968349a4b637ad5482822ea">gep::Key::Left</a>))</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        pLogging-&gt;logMessage(<span class="stringliteral">&quot;left&quot;</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        input.<a class="code" href="structgep_1_1_character_input.html#ac662bcffd5310b9080f680aab9fd2e07">inputLR</a> = 1.0f;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (pInputHandler-&gt;isPressed(<a class="code" href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067ac5cdb06a20e1103dd847364a44103492">gep::Key::Right</a>))</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        pLogging-&gt;logMessage(<span class="stringliteral">&quot;right&quot;</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        input.<a class="code" href="structgep_1_1_character_input.html#ac662bcffd5310b9080f680aab9fd2e07">inputLR</a> = -1.0f;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    input.<a class="code" href="structgep_1_1_character_input.html#a8f969ba48d7983532b764a5737781839">up</a> = m_pParentGameObject-&gt;getUpDirection();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    input.<a class="code" href="structgep_1_1_character_input.html#aabaf10f66d5ad520d6c3559cffe28f00">forward</a> = m_pParentGameObject-&gt;getViewDirection();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    input.<a class="code" href="structgep_1_1_character_input.html#a4fb1905ed40b41813f894cfd5c17ce71">characterGravity</a>.z = -9.81f;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">auto</span> result = m_event_updateCharacterInput.trigger(&amp;input);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// If no one handled the result, there is nothing to do here.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">//if (result == gep::EventResult::Ignored) { return; }</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    m_pCharacterRigidBody-&gt;checkSupport(deltaSeconds, input.<a class="code" href="structgep_1_1_character_input.html#a60352114ca54c1de88775b6ced4aa36f">surfaceInfo</a>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">switch</span> (input.<a class="code" href="structgep_1_1_character_input.html#a60352114ca54c1de88775b6ced4aa36f">surfaceInfo</a>.supportedState)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">case</span> gep::SurfaceInfo::SupportedState::Supported:</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        debugRenderer.printText(getWorldPosition() + <a class="code" href="structgep_1_1vec3__t.html">gep::vec3</a>(0.0f, 0.0f, -10.0f), <span class="stringliteral">&quot;Supported&quot;</span>, gep::Color::yellow());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">case</span> gep::SurfaceInfo::SupportedState::Unsupported:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        debugRenderer.printText(getWorldPosition() + <a class="code" href="structgep_1_1vec3__t.html">gep::vec3</a>(0.0f, 0.0f, -10.0f), <span class="stringliteral">&quot;Unsupported&quot;</span>, gep::Color::yellow());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">case</span> gep::SurfaceInfo::SupportedState::Sliding:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        debugRenderer.printText(getWorldPosition() + <a class="code" href="structgep_1_1vec3__t.html">gep::vec3</a>(0.0f, 0.0f, -10.0f), <span class="stringliteral">&quot;Sliding&quot;</span>, gep::Color::yellow());</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    debugRenderer.printText(getWorldPosition() + <a class="code" href="structgep_1_1vec3__t.html">gep::vec3</a>(0.0f, 0.0f, -5.0f),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        gep::CharacterState::toString(m_pCharacterRigidBody-&gt;getState()),</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        gep::Color::yellow());</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    m_pCharacterRigidBody-&gt;update(input, output);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    m_pCharacterRigidBody-&gt;setLinearVelocity(output.<a class="code" href="structgep_1_1_character_output.html#a91d4a029d3270072399af97e1d4ef94b">velocity</a>, deltaSeconds);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<a class="code" href="classgep_1_1_i_character_rigid_body.html">gep::ICharacterRigidBody</a>* gpp::CharacterComponent::createCharacterRigidBody(<span class="keyword">const</span> <a class="code" href="structgep_1_1_character_rigid_body_c_info.html">gep::CharacterRigidBodyCInfo</a>&amp; cinfo)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// cinfo.position &gt; 0</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span>(!gep::epsilonCompare(cinfo.<a class="code" href="structgep_1_1_character_rigid_body_c_info.html#a7d8cd518080e603ebf7bf7da443d3916">position</a>.<a class="code" href="structgep_1_1vec3__t.html#a356298ec49a9fb0b55d72b88dcbf7773">squaredLength</a>(), 0.0f))</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        m_transform.setPosition(m_transform.getWorldPosition() + cinfo.<a class="code" href="structgep_1_1_character_rigid_body_c_info.html#a7d8cd518080e603ebf7bf7da443d3916">position</a>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span>(!cinfo.<a class="code" href="structgep_1_1_character_rigid_body_c_info.html#ae7f79c0bf1ded2048200fc42ddbe42e4">rotation</a>.isIdentity())</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        m_transform.setRotation(m_transform.getWorldRotation() * cinfo.<a class="code" href="structgep_1_1_character_rigid_body_c_info.html#ae7f79c0bf1ded2048200fc42ddbe42e4">rotation</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keyword">auto</span> physicsSystem = g_globalManager.getPhysicsSystem();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keyword">auto</span> physicsFactory = physicsSystem-&gt;getPhysicsFactory();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    m_pCharacterRigidBody = physicsFactory-&gt;createCharacterRigidBody(cinfo);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    m_pRigidBody = m_pCharacterRigidBody-&gt;getRigidBody();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    m_pCharacterRigidBody-&gt;initialize();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span>(cinfo.<a class="code" href="structgep_1_1_character_rigid_body_c_info.html#a627fad5708e5bff2486bc234ecb93f37">shape</a>-&gt;getShapeType() == gep::ShapeType::Triangle)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keyword">auto</span> shapeTransform = cinfo.<a class="code" href="structgep_1_1_character_rigid_body_c_info.html#a627fad5708e5bff2486bc234ecb93f37">shape</a>-&gt;getTransform();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        m_pRigidBody-&gt;setInitialTransform(shapeTransform);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> m_pCharacterRigidBody.get();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="ttc" id="structgep_1_1_windows_virtual_key_codes_html_a17f89076c9573f7612c6e4a11dbc8067aa5140765eb8d4b69d3464e7dcf36c484"><div class="ttname"><a href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067aa5140765eb8d4b69d3464e7dcf36c484">gep::WindowsVirtualKeyCodes::Up</a></div><div class="ttdoc">UP ARROW key. </div><div class="ttdef"><b>Definition:</b> <a href="windows_virtual_key_codes_8h_source.html#l00048">windowsVirtualKeyCodes.h:48</a></div></div>
<div class="ttc" id="structgep_1_1_character_output_html"><div class="ttname"><a href="structgep_1_1_character_output.html">gep::CharacterOutput</a></div><div class="ttdoc">The output from the state machine. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00151">characterController.h:151</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_ac662bcffd5310b9080f680aab9fd2e07"><div class="ttname"><a href="structgep_1_1_character_input.html#ac662bcffd5310b9080f680aab9fd2e07">gep::CharacterInput::inputLR</a></div><div class="ttdeci">float inputLR</div><div class="ttdoc">Input X range -1 to 1 (left / right) </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00048">characterController.h:48</a></div></div>
<div class="ttc" id="structgep_1_1vec3__t_html_a356298ec49a9fb0b55d72b88dcbf7773"><div class="ttname"><a href="structgep_1_1vec3__t.html#a356298ec49a9fb0b55d72b88dcbf7773">gep::vec3_t::squaredLength</a></div><div class="ttdeci">T squaredLength() const </div><div class="ttdoc">returns the squared length of the vector </div><div class="ttdef"><b>Definition:</b> <a href="vec3_8h_source.html#l00333">vec3.h:333</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html"><div class="ttname"><a href="structgep_1_1_character_input.html">gep::CharacterInput</a></div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00042">characterController.h:42</a></div></div>
<div class="ttc" id="structgep_1_1_character_rigid_body_c_info_html_a7d8cd518080e603ebf7bf7da443d3916"><div class="ttname"><a href="structgep_1_1_character_rigid_body_c_info.html#a7d8cd518080e603ebf7bf7da443d3916">gep::CharacterRigidBodyCInfo::position</a></div><div class="ttdeci">vec3 position</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00179">characterController.h:179</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_aabaf10f66d5ad520d6c3559cffe28f00"><div class="ttname"><a href="structgep_1_1_character_input.html#aabaf10f66d5ad520d6c3559cffe28f00">gep::CharacterInput::forward</a></div><div class="ttdeci">vec3 forward</div><div class="ttdoc">Forward vector in world space - point in the direction the character is facing. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00061">characterController.h:61</a></div></div>
<div class="ttc" id="structgep_1_1vec3__t_html"><div class="ttname"><a href="structgep_1_1vec3__t.html">gep::vec3_t&lt; float &gt;</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_a5d4a66a477e0f6e9c9a501f04cb6ffdc"><div class="ttname"><a href="structgep_1_1_character_input.html#a5d4a66a477e0f6e9c9a501f04cb6ffdc">gep::CharacterInput::deltaTime</a></div><div class="ttdeci">float deltaTime</div><div class="ttdoc">Set this to the timestep between calls to the state machine. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00074">characterController.h:74</a></div></div>
<div class="ttc" id="structgep_1_1_windows_virtual_key_codes_html_a17f89076c9573f7612c6e4a11dbc8067ac5cdb06a20e1103dd847364a44103492"><div class="ttname"><a href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067ac5cdb06a20e1103dd847364a44103492">gep::WindowsVirtualKeyCodes::Right</a></div><div class="ttdoc">RIGHT ARROW key. </div><div class="ttdef"><b>Definition:</b> <a href="windows_virtual_key_codes_8h_source.html#l00049">windowsVirtualKeyCodes.h:49</a></div></div>
<div class="ttc" id="structgep_1_1_character_rigid_body_c_info_html_a627fad5708e5bff2486bc234ecb93f37"><div class="ttname"><a href="structgep_1_1_character_rigid_body_c_info.html#a627fad5708e5bff2486bc234ecb93f37">gep::CharacterRigidBodyCInfo::shape</a></div><div class="ttdeci">IShape * shape</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00175">characterController.h:175</a></div></div>
<div class="ttc" id="structgep_1_1_windows_virtual_key_codes_html_a17f89076c9573f7612c6e4a11dbc8067a768146893504e575688f1c0aab22c947"><div class="ttname"><a href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067a768146893504e575688f1c0aab22c947">gep::WindowsVirtualKeyCodes::Down</a></div><div class="ttdoc">DOWN ARROW key. </div><div class="ttdef"><b>Definition:</b> <a href="windows_virtual_key_codes_8h_source.html#l00050">windowsVirtualKeyCodes.h:50</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_a0319f33ee23973b5567e4a5cfdd238b0"><div class="ttname"><a href="structgep_1_1_character_input.html#a0319f33ee23973b5567e4a5cfdd238b0">gep::CharacterInput::position</a></div><div class="ttdeci">vec3 position</div><div class="ttdoc">Set this to the current position. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00077">characterController.h:77</a></div></div>
<div class="ttc" id="structgep_1_1_character_rigid_body_c_info_html"><div class="ttname"><a href="structgep_1_1_character_rigid_body_c_info.html">gep::CharacterRigidBodyCInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00166">characterController.h:166</a></div></div>
<div class="ttc" id="structgep_1_1_character_output_html_a91d4a029d3270072399af97e1d4ef94b"><div class="ttname"><a href="structgep_1_1_character_output.html#a91d4a029d3270072399af97e1d4ef94b">gep::CharacterOutput::velocity</a></div><div class="ttdeci">vec3 velocity</div><div class="ttdoc">The output velocity of the character. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00154">characterController.h:154</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_a4fb1905ed40b41813f894cfd5c17ce71"><div class="ttname"><a href="structgep_1_1_character_input.html#a4fb1905ed40b41813f894cfd5c17ce71">gep::CharacterInput::characterGravity</a></div><div class="ttdeci">vec3 characterGravity</div><div class="ttdoc">The gravity that is applied to the character when in the air. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00082">characterController.h:82</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_a60352114ca54c1de88775b6ced4aa36f"><div class="ttname"><a href="structgep_1_1_character_input.html#a60352114ca54c1de88775b6ced4aa36f">gep::CharacterInput::surfaceInfo</a></div><div class="ttdeci">SurfaceInfo surfaceInfo</div><div class="ttdoc">The surface information. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00068">characterController.h:68</a></div></div>
<div class="ttc" id="classgep_1_1_i_character_rigid_body_html"><div class="ttname"><a href="classgep_1_1_i_character_rigid_body.html">gep::ICharacterRigidBody</a></div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00323">characterController.h:323</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_a8e8fd13e61df6e66a364bca07f20b5e0"><div class="ttname"><a href="structgep_1_1_character_input.html#a8e8fd13e61df6e66a364bca07f20b5e0">gep::CharacterInput::inputUD</a></div><div class="ttdeci">float inputUD</div><div class="ttdoc">Input Y range -1 to 1 (forward / back) </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00051">characterController.h:51</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_a8f969ba48d7983532b764a5737781839"><div class="ttname"><a href="structgep_1_1_character_input.html#a8f969ba48d7983532b764a5737781839">gep::CharacterInput::up</a></div><div class="ttdeci">vec3 up</div><div class="ttdoc">Up vector in world space - should generally point in the opposite direction to gravity. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00059">characterController.h:59</a></div></div>
<div class="ttc" id="structgep_1_1_character_rigid_body_c_info_html_ae7f79c0bf1ded2048200fc42ddbe42e4"><div class="ttname"><a href="structgep_1_1_character_rigid_body_c_info.html#ae7f79c0bf1ded2048200fc42ddbe42e4">gep::CharacterRigidBodyCInfo::rotation</a></div><div class="ttdeci">Quaternion rotation</div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00183">characterController.h:183</a></div></div>
<div class="ttc" id="structgep_1_1_windows_virtual_key_codes_html_a17f89076c9573f7612c6e4a11dbc8067a31e02d7d0968349a4b637ad5482822ea"><div class="ttname"><a href="structgep_1_1_windows_virtual_key_codes.html#a17f89076c9573f7612c6e4a11dbc8067a31e02d7d0968349a4b637ad5482822ea">gep::WindowsVirtualKeyCodes::Left</a></div><div class="ttdoc">LEFT ARROW key. </div><div class="ttdef"><b>Definition:</b> <a href="windows_virtual_key_codes_8h_source.html#l00047">windowsVirtualKeyCodes.h:47</a></div></div>
<div class="ttc" id="structgep_1_1_character_input_html_ad8d3e5e3fee873db42b9a9d9ea8bd6ee"><div class="ttname"><a href="structgep_1_1_character_input.html#ad8d3e5e3fee873db42b9a9d9ea8bd6ee">gep::CharacterInput::velocity</a></div><div class="ttdeci">vec3 velocity</div><div class="ttdoc">Set this to the current Velocity. </div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2character_controller_8h_source.html#l00080">characterController.h:80</a></div></div>
<div class="ttc" id="structgep_1_1_i_world_1_1_scoped_lock_html"><div class="ttname"><a href="structgep_1_1_i_world_1_1_scoped_lock.html">gep::IWorld::ScopedLock</a></div><div class="ttdef"><b>Definition:</b> <a href="interfaces_2physics_2world_8h_source.html#l00066">world.h:66</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 28 2014 11:48:31 for Gameplay Programming by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
